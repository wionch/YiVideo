# 功能需求规格: [功能名称]

**功能分支**: `[###-功能名称]`
**创建日期**: [日期]
**状态**: 草稿
**输入**: 用户描述: "$ARGUMENTS"

## 用户场景与测试 *(必填)*

<!--
  重要提示：用户故事应按重要性排序，作为用户的操作旅程。
  每个用户故事/旅程必须是【可独立测试】的——这意味着即使只实现其中一个，
  你仍然应该有一个能够交付价值的、可行的最小化产品（MVP）。

  为每个故事分配优先级（P1, P2, P3 等），其中 P1 是最关键的。
  将每个故事视为一个独立的功能切片，它可以：
  - 独立开发
  - 独立测试
  - 独立部署
  - 独立向用户演示
-->

### 用户故事 1 - [简短标题] (优先级: P1)

[用通俗易懂的语言描述这个用户旅程]

**优先级原因**: [解释其价值以及为何具有此优先级]

**独立测试**: [描述如何独立测试此功能 - 例如：“可通过 [特定操作] 进行完整测试，并交付 [特定价值]”]

**验收场景**:

1. **假如** [初始状态], **当** [执行操作], **那么** [预期结果]
2. **假如** [初始状态], **当** [执行操作], **那么** [预期结果]

---

[根据需要添加更多用户故事]

### 边界情况

- 当 [边界条件] 发生时会怎样？
- 系统如何处理 [错误场景]？

## 需求 *(必填)*

### 功能需求

- **FR-001**: 系统必须 [具体能力，例如：“允许用户创建账户”]
- **FR-002**: 系统必须 [具体能力，例如：“验证电子邮件地址”]
- **FR-003**: 用户必须能够 [关键交互，例如：“重置他们的密码”]

### 关键实体 *(如果功能涉及数据则包含)*

- **[实体 1]**: [它代表什么，关键属性，无需实现细节]
- **[实体 2]**: [它代表什么，与其他实体的关系]

## 架构合规性要求 *(必填)*

<!--
  需要操作：填写此功能将如何遵守项目宪法。
-->

### 服务边界 (原则 I)
- [描述这是一个新服务还是现有服务的扩展。说明理由。]

### API 合约 (原则 II)
- [列出此功能将引入的新的或更新的 API 合约（例如：OpenAPI 规范, Pydantic 模型）。]

### 可观测性 (原则 IV)
- **指标**: [列出需要暴露的关键 Prometheus 指标。]
- **日志**: [描述需要记录的关键事件。]
- **追踪**: [识别分布式追踪的关键跨度。]

### 状态管理 (原则 V)
- [描述该功能的状态将如何以及在何处管理（例如：Redis, 数据库），以确保 worker 保持无状态。]

### AI 模型影响 (原则 VI)
- [如果适用，描述此功能将如何对 AI 模型进行版本控制、部署和文档记录。如果不适用，请注明“不适用”。]

## 成功标准 *(必填)*

<!--
  需要操作：定义可衡量的成功标准。
  这些标准必须与技术无关且可衡量。
-->

### 最终产出物/目标

- **产出物-001**: [例如：“一个位于 `/v1/feature` 的新 RESTful 端点”]
- **产出物-002**: [例如：“一个名为 `feature-service` 的新服务被添加到 `docker-compose.yml`”]
- **产出物-003**: [例如：“一个解释其用法的文档页面 `docs/features/new-feature.md`”]

### 可衡量的成果

- **SC-001**: [可衡量指标，例如：“用户可以在2分钟内完成账户创建”]
- **SC-002**: [可衡量指标，例如：“系统在1000个并发用户下无性能下降”]
- **SC-003**: [用户满意度指标，例如：“90%的用户首次尝试即可成功完成主要任务”]

## 待澄清问题

<!--
  需要操作：列出任何开放性问题、模糊之处或需要进一步讨论的领域。
  这些将是 `/speckit.clarify` 命令的主要输入。
-->

- **问题-001**: [关于某个具体需求的问题，例如：“调用外部服务的 API 超时时间具体应该是多少？”]
- **问题-002**: [关于边界情况的问题，例如：“如果用户的输入包含特殊字符，系统应如何表现？”]
- **问题-003**: [关于技术选型的问题，例如：“我们应该使用 Redis 还是数据库来缓存这些数据？”]
