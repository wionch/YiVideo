# ============================================================================
# Docker构建上下文优化文件
# 排除不必要的文件以减少构建上下文大小和提高构建速度
# ============================================================================

# Git版本控制
.git/
.gitignore
.gitattributes

# Docker相关 (避免自身被包含或覆盖开发配置)
.dockerignore
docker-compose.override.yml
Dockerfile.dev

# 环境变量文件（通常包含敏感信息，绝不应打入镜像）
.env
.env*
!/.env.example  # 如果有模板文件，可以取消忽略

# ============================================================================
# Python 相关
# ============================================================================

# 1. 虚拟环境 (【核心新增】这是避免构建上下文过大的关键)
venv/
.venv/
env/
ENV/

# 2. 缓存和编译文件
**/__pycache__/
**/*.pyc
**/*.pyo
**/*.pyd

# 3. 包信息和构建产物 (【建议新增】)
*.egg-info/
build/
dist/
*.so

# 4. 测试和覆盖率报告
.coverage
.pytest_cache/
.tox/
htmlcov/

# ============================================================================
# 特定工具和框架缓存
# ============================================================================
.cache/
**/hf_cache/      # Hugging Face cache
.mypy_cache/     # MyPy cache

# ============================================================================
# 项目特定文件
# ============================================================================

# 模型文件（这些应该在运行时通过volume挂载，而不是打包到镜像中）
services/workers/indextts_service/checkpoints/
**/checkpoints/
# 排除外部模型文件，但保留源码中的模型目录（如 indextts/utils/maskgct/models/）
!**/indextts/**/models/
**/pyannote-audio/ # 明确排除这个较大的依赖目录

# 日志文件
logs/
**/*.log

# 数据库文件
*.db
*.sqlite
*.sqlite3

# 大型媒体文件 (如果源代码中不应包含的话)
*.mp4
*.avi
*.mov
*.mp3
*.wav
*.flac

# ============================================================================
# 通用开发和系统文件
# ============================================================================

# 1. 开发工具配置
.vscode/
.idea/

# 2. 临时和备份文件
*.swp
*.swo
*~
*.tmp
*.bak
*.old
*.orig
*.rej
.#*
\#*#

# 3. 操作系统生成的文件 (已清理合并)
.DS_Store
Thumbs.db
desktop.ini
._*
.Spotlight-V100
.Trashes
ehthumbs.db

# 4. 文档构建
docs/_build/
site/

# 5. Node.js（如果有前端组件）
node_modules/
npm-debug.log*
yarn-debug.log*
yarn-error.log*